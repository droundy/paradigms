{% extends 'public_app/base_multi_editor.html' %}
{% block content %}
{% load problem_extras %}
{% load activity_extras %}
  <!-- <div class="container">
    <div class="page-header">
      <h1>Search Results for "{{ query }}"</h1>
    </div>
  </div> -->

  {% if activity_list %}
    <h2 class="display-4">Activities: "{{ query }}"</h2>
    <div class="container">
    
      {% for activity in activity_list %}
      <div class="card overflow-auto" style="margin-bottom: 10px;">
        <div class="card-body">
          <h5><a href="{% url 'activity_detail' pk=activity.pk %}">{{ activity.title }} {% if activity.publication_status == "Draft" or activity.publication_status == "Post-Publication Draft" or not activity.publication_status %}<span class="badge badge-danger"><span class="oi oi-warning"></span> Draft</span>{% endif %}</a></h5>
          <p class="card-text" style="margin-bottom: 5px;"> {{ activity.type_of_beast|trimtob }} Activity <span class="oi oi-clock" style="margin-left: 1em; margin-right:"></span> {{ activity.time_estimate }} min. <span style="margin-left: 1em;">{{ activity.topics|tagbuttons }}</span></p>
          
          {% if activity.overview_paragraph %}
            {% if forloop.counter == 1 %}
              <p class="latextorender tex2jax_ignore" data-latex="{{ activity.overview_paragraph|truncatewords:25 }}" id="activity_overview_paragraph{{ forloop.counter }}"></p>
            {% else %}
              <p class="overflow-auto latextorender tex2jax_ignore" data-latex="{{ activity.overview_paragraph|truncatewords:25 }}" id="activity_overview_paragraph{{ forloop.counter }}"></p>
            {% endif %}
          {% endif %}
        </div>
      </div> <!-- End Activity Card -->        
      {% endfor %}
    
    </div> <!-- End Activity Container-->
  {% endif %}  

        
  {% if problem_list %}
    <h2 class="display-4">Homework: "{{ query }}"</h2>
    <div class="container">
      
      <div class="row">

        {% for problem in problem_list %}
          <div class="col-sm-4">
            <div class="card" style="margin-bottom: 10px">            
              <div class="card-body">
                <h5><a href="{% url 'problem_display_html' pk=problem.pk %}">{{ problem.problem_title }}</a> {% if problem.publication == "0" or not problem.publication %}<span class="badge badge-danger"><span class="oi oi-warning"></span> Draft</span>{% endif %}</h5>
                {{ problem.topics|problemtopicbuttons }}
              </div>
            </div>
          </div>
          {% if forloop.last %}
          </div>
          {% else %}
            {% if forloop.counter|divisibleby:"3" %}
              </div><div class="row">
            {% endif %}
          {% endif %}
        {% endfor %}
      
      </div><!-- end row -->


  {% endif %}
  
    {% if sequence_list %}
      
      <h2 class="display-4">Sequences: "{{ query }}"</h2>
      <div class="container">
      {% for sequence in sequence_list %}
          <div class="card overflow-auto" style="margin-bottom: 10px;">
            <div class="card-body">
              <h5><a href="{% url 'sequence_detail_solution' pk=sequence.pk %}">{{ sequence.title }}</a></h5>
              {% if sequence.overview_paragraph %}
                {% if forloop.counter == 1 %}
                  <p class="latextorender tex2jax_ignore" data-latex="{{ sequence.overview_paragraph }}" id="sequence_overview_paragraph{{ forloop.counter }}"></p>
                {% else %}
                  <p class="overflow-auto latextorender tex2jax_ignore" data-latex="{{ sequence.overview_paragraph }}" id="sequence_overview_paragraph{{ forloop.counter }}"></p>
                {% endif %}
              {% endif %}
            </div>
          </div>
      {% endfor %}
      </div>

    {% endif %}
    
  </div> <!-- End Content Container -->
{% endblock %}
